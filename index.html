<!DOCTYPE html>
<html lang="vi">
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Quản lý Công việc</title>
    <!-- Thư viện Font Awesome cho các biểu tượng (icon) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Thư viện Google Fonts cho font chữ Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* ================================================================= */
        /* PHẦN CSS - GIỮ NGUYÊN VÀ BỔ SUNG CHO TÍNH NĂNG MỚI             */
        /* ================================================================= */
        :root {
            --primary-color: #0056b3;
            --primary-hover: #4338ca;
            --danger-color: #ef4444;
            --danger-hover: #dc2626;
            --success-color: #22c55e;
            --warning-color: #f97316;
            --gemini-color: #8b5cf6; /* Màu tím cho Gemini */
            --gemini-hover: #7c3aed;
            --bg-main: #f9fafb;
            --bg-content: #ffffff;
            --bg-sidebar-left: #111827;
            --bg-sidebar-right: #f3f4f6;
            --bg-modal-overlay: rgba(17, 24, 39, 0.6);
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-on-dark: #e5e7eb;
            --text-on-dark-hover: #ffffff;
            --text-on-primary: #ffffff;
            --border-color: #e5e7eb;
            --divider-color-dark: #374151;
            --border-radius-sm: 0.25rem;
            --border-radius-md: 0.375rem;
            --border-radius-lg: 0.5rem;
            --border-radius-full: 9999px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body { margin: 0; padding: 0; font-family: var(--font-family); background-color: var(--bg-main); color: var(--text-primary); display: flex; flex-direction: column; height: 100vh; overflow: hidden; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

        /* Header */
        #main-header { background-color: #0056b3; color: white; padding: 12px 24px; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow-sm); border-bottom: 1px solid var(--border-color); flex-shrink: 0; z-index: 10; }
        #header-left { font-size: 1rem; font-weight: 500; }
        #header-left span { cursor: pointer; display: flex; align-items: center; gap: 8px; color: white; transition: color 0.2s ease; }
        #header-left span:hover { color: #e5e7eb; }
        #header-left .header-icon { font-size: 1.1rem; }
        #current-page-title { font-size: 1.1rem; font-weight: 500; flex-grow: 1; text-align: center; }
        #header-right { display: flex; align-items: center; gap: 20px; }
        .header-item { white-space: nowrap; }
        #user-controls { display: flex; align-items: center; gap: 12px; }
        .greeting-text { color: white; margin-right: 10px; font-weight: 500; }
        .header-logout-btn { background-color: var(--success-color); color: var(--text-on-primary); border: 1px solid var(--success-color); padding: 6px 12px; border-radius: var(--border-radius-md); cursor: pointer; font-size: 0.85rem; font-weight: 600; transition: all 0.2s ease; }
        .header-logout-btn:hover { background-color: var(--danger-color); border-color: var(--danger-color); }
        #session-timer-container { display: flex; align-items: center; margin-left: 20px; font-size: 0.9rem; }
        #live-clock { font-size: 0.9rem; font-weight: 500; text-align: right; min-width: 150px; }
        #live-clock #clock-time { display: block; font-weight: 1000; }
        #live-clock #clock-date { display: block; font-size: 0.8rem; }
        
        /* Main Content Area */
        #main-content-area { display: flex; flex-grow: 1; overflow: hidden; }
        #content-container { flex-grow: 1; padding: 24px; display: flex; flex-direction: column; overflow-y: auto; box-sizing: border-box; }
        #functionContent { width: 100%; flex-grow: 1; }
        #loadingSpinner { border: 4px solid var(--border-color); border-top: 4px solid var(--primary-color); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 50px auto; display: none; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Left Sidebar */
        #left-sidebar-container { width: 280px; background-color: var(--bg-sidebar-left); color: var(--text-on-dark); padding: 16px; box-shadow: var(--shadow-md); flex-shrink: 0; flex-direction: column; box-sizing: border-box; overflow-y: auto; transition: width 0.3s ease, padding 0.3s ease; position: relative; z-index: 5; }
        #left-sidebar-container.collapsed { width: 72px; padding: 16px 0; }
        #left-sidebar-container.collapsed .menu-button-sidebar span, #left-sidebar-container.collapsed .dropdown-button span, #left-sidebar-container.collapsed .menu-section-title span { opacity: 0; width: 0; overflow: hidden; }
        #left-sidebar-container.collapsed .menu-button-sidebar, #left-sidebar-container.collapsed .dropdown-button { justify-content: center; width: 44px; margin: 0 auto; }
        #left-sidebar-container.collapsed .menu-button-sidebar .icon, #left-sidebar-container.collapsed .dropdown-button .icon { margin-right: 0; font-size: 1.2rem; }
        .sidebar-content-wrapper { width: 100%; display: flex; flex-direction: column; align-items: center; flex-grow: 1; }
        .menu-section { width: 100%; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid var(--divider-color-dark); }
        .menu-section:last-of-type { border-bottom: none; }
        .menu-section-title { color: #9ca3af; font-size: 0.8rem; font-weight: 600; padding: 8px 12px; width: 100%; text-transform: uppercase; }
        .menu-button-sidebar, .dropdown-button { background-color: transparent; color: var(--text-on-dark); padding: 10px 12px; margin-bottom: 4px; border-radius: var(--border-radius-md); cursor: pointer; width: 100%; font-size: 0.9rem; text-decoration: none; display: flex; align-items: center; transition: background-color 0.2s; box-sizing: border-box;}
        .menu-button-sidebar:hover, .dropdown-button:hover, .dropdown-button.active { background-color: #374151; color: var(--text-on-dark-hover); }
        .menu-button-sidebar .icon, .dropdown-button .icon { margin-right: 12px; font-size: 1rem; min-width: 20px; text-align: center; }
        .dropdown { position: relative; width: 100%;}
        .dropdown-menu { display: none; position: fixed; min-width: 230px; z-index: 1001; background-color: #1f2937; border-radius: var(--border-radius-lg); padding: 6px; flex-direction: column; box-shadow: var(--shadow-lg); border: 1px solid var(--divider-color-dark); }
        .dropdown-menu.show { display: flex; }

        /* Right Sidebar */
        #right-sidebar-container { width: 250px; background-color: var(--bg-sidebar-right); padding: 16px; border-left: 1px solid var(--border-color); flex-shrink: 0; overflow-y: auto; transition: width 0.3s ease; }
        #right-sidebar-container.collapsed { width: 100px; padding: 16px 0; }
        #right-sidebar-container.collapsed h3, #right-sidebar-container.collapsed .link-button-right span { opacity: 0; width: 0; overflow: hidden;}
        #right-sidebar-container.collapsed .link-button-right { width: 50px; justify-content: center; margin: 0 auto; }
        #right-sidebar-container.collapsed .link-button-right .icon { margin: 0; font-size: 1.1rem; }
        .right-menu-section { width: 100%; margin-bottom: 16px; }
        #right-sidebar-container h3 { color: var(--text-secondary); text-align: center; margin-bottom: 16px; font-size: 0.8rem; font-weight: 600; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); width: 100%; text-transform: uppercase; }
        .link-button-right { background-color: var(--bg-content); color: var(--text-secondary); padding: 8px 12px; margin-bottom: 8px; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); cursor: pointer; width: 100%; font-size: 0.9rem; text-decoration: none; display: flex; align-items: center; transition: all 0.2s ease; box-shadow: var(--shadow-sm); box-sizing: border-box;}
        .link-button-right:hover { background-color: #e5e7eb; color: var(--text-primary); border-color: #d1d5db; }
        .link-button-right .icon { margin-right: 10px; font-size: 0.9rem; min-width: 16px; text-align: center; }
        
        /* Modals */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--bg-modal-overlay); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .modal-content { background-color: var(--bg-content); padding: 25px 30px; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); text-align: center; max-width: 400px; width: 90%; animation: fadeInScale 0.3s ease-out; }
        .modal-content p { font-size: 1.1rem; margin: 0 0 20px 0; color: var(--text-primary); }
        .modal-buttons { display: flex; justify-content: center; gap: 12px; }
        .modal-buttons button { padding: 10px 25px; border-radius: var(--border-radius-md); cursor: pointer; font-size: 1rem; font-weight: 600; transition: background-color 0.2s; border: none; }
        #confirmBtnYes, #adminLoginSubmit { background-color: var(--primary-color); color: white; }
        #confirmBtnYes:hover, #adminLoginSubmit:hover { background-color: var(--primary-hover); }
        #confirmBtnNo, #adminLoginCancel { background-color: #e0e0e0; color: #333; }
        #confirmBtnNo:hover, #adminLoginCancel:hover { background-color: #c7c7c7; }
        @keyframes fadeInScale { from { opacity: 0; transform: translateY(10px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        /* Floating Button & Popups */
        .floating-button { position: fixed; bottom: 20px; right: 20px; background-color: var(--success-color); color: var(--text-on-primary); border-radius: 50%; cursor: pointer; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-lg); z-index: 999; transition: all 0.3s ease; border:none;}
        .floating-button:hover { transform: translateY(-3px) scale(1.05); }
        .floating-button .icon { font-size: 1.5rem; }
        .popup-container { position: fixed; bottom: 85px; right: 20px; width: 320px; background-color: var(--bg-content); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); z-index: 1000; display: none; flex-direction: column; overflow: hidden; animation: fadeInScale 0.3s ease-out; }
        .popup-container.show { display: flex; }
        
        /* Notification Styles & Gemini Feature */
        .columns-container { display: flex; flex-direction: row; gap: 24px; width: 100%; }
        .content-column { flex: 1; min-width: 0; display: flex; flex-direction: column; }
        .column-title { font-size: 1.1rem; font-weight: 600; color: #c00000; padding-bottom: 8px; margin-bottom: 16px; border-bottom: 2px solid var(--border-color); display: flex; align-items: center; gap: 10px; }
        .notification-list { display: flex; flex-direction: column; gap: 16px; }
        .notification-card { background-color: #f3f4f6; border: 1px solid #d1d5db; border-radius: var(--border-radius-lg); padding: 16px; box-shadow: var(--shadow-sm); display: flex; flex-direction: column; }
        .notification-header { display: flex; align-items: center; gap: 12px; }
        .notification-header .icon { font-size: 1.3rem; color: var(--text-secondary); }
        .notification-header h4 { margin: 0; font-size: 1rem; font-weight: 600; flex-grow: 1; color: var(--text-primary);}
        .new-badge { background-color: var(--danger-color); color: white; padding: 3px 8px; font-size: 0.7rem; font-weight: 700; border-radius: var(--border-radius-full); text-transform: uppercase; animation: blink-animation 1.2s infinite; }
        .type-badge { padding: 4px 10px; border-radius: var(--border-radius-md); font-size: 0.8rem; font-weight: 500; color: #000; margin-left: auto; }
        .type-báchhóaxanh { background-color: #90ee90; }
        .type-tgdđ-đmx { background-color: #ffd700; }
        .notification-footer { margin-top: 16px; padding-top: 12px; border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; }
        .gemini-suggest-btn { background-color: var(--gemini-color); color: white; border: none; padding: 6px 12px; border-radius: var(--border-radius-md); cursor: pointer; font-size: 0.8rem; font-weight: 500; transition: background-color 0.2s; display: inline-flex; align-items: center; gap: 6px; }
        .gemini-suggest-btn:hover { background-color: var(--gemini-hover); }
        #geminiResultContent ul { padding-left: 20px; margin: 0; }
        #geminiResultContent li { margin-bottom: 8px; }

        @keyframes blink-animation { 50% { opacity: 0.4; } }
        /* Responsive */
        @media (max-width: 1024px) { .columns-container { flex-direction: column; } }
    </style>
</head>
<body>
    <div id="main-header">
        <div id="header-left">
            <span id="btnGoHomeHeader"><i class="fas fa-home header-icon"></i>Trang Chủ</span>
        </div>
        <div id="current-page-title">TRANG CHỦ - THÔNG BÁO</div>
        <div id="header-right">
            <div id="user-controls" class="header-item">
                <span class="greeting-text">Xin chào</span>
                <button id="logoutButton" class="header-logout-btn">Đăng xuất</button>
            </div>
            <div id="session-timer-container" class="header-item">
                <i class="fas fa-stopwatch" style="margin-right: 5px; color: white;"></i>
                <span id="session-timer" style="color: white; font-weight: 700;">60:00</span>
            </div>
            <div id="live-clock" class="header-item">
                <span id="clock-time"></span>
                <span id="clock-date"></span>
            </div>
        </div>
    </div>

    <div id="main-content-area">
        <div id="left-sidebar-container" class="collapsed">
            <div class="sidebar-content-wrapper"></div>
        </div>
        
        <div id="content-container">
            <div id="loadingSpinner" style="display: none;"></div>
            <div id="functionContent">
                <!-- NỘI DUNG TRANG CHỦ VỚI TÍNH NĂNG GEMINI -->
                <div class="columns-container">
                    <div class="content-column">
                        <h3 class="column-title"><i class="fas fa-bullhorn"></i><span>THÔNG BÁO CÔNG VIỆC TRIỂN KHAI</span></h3>
                        <div class="notification-list">
                            <div class="notification-card">
                                <div class="notification-header">
                                    <i class="fas fa-wrench icon"></i>
                                    <h4>TRIỂN KHAI TỐI ƯU THIẾT BỊ BHX</h4>
                                    <span class="type-badge type-báchhóaxanh">BáchHóaXanh</span>
                                    <span class="new-badge">NEW</span>
                                </div>
                                <div class="notification-footer">
                                    <button class="gemini-suggest-btn">✨ Gợi ý công việc</button>
                                </div>
                            </div>
                            <div class="notification-card">
                                <div class="notification-header">
                                    <i class="fas fa-file-alt icon"></i>
                                    <h4>FORM CẬP NHẬT TIẾN ĐỘ</h4>
                                    <span class="type-badge type-báchhóaxanh">BáchHóaXanh</span>
                                    <span class="new-badge">NEW</span>
                                </div>
                                <div class="notification-footer">
                                    <button class="gemini-suggest-btn">✨ Gợi ý công việc</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="content-column">
                        <h3 class="column-title"><i class="fas fa-tasks"></i><span>THÔNG BÁO CÔNG VIỆC MTAY2</span></h3>
                        <div class="notification-list">
                             <div class="notification-card">
                                <div class="notification-header">
                                    <i class="fas fa-calendar-alt icon"></i>
                                    <h4>LỊCH - LAYOUT TỐI ƯU THIẾT BỊ</h4>
                                    <span class="type-badge type-báchhóaxanh">BáchHóaXanh</span>
                                    <span class="new-badge">NEW</span>
                                </div>
                                <div class="notification-footer">
                                    <button class="gemini-suggest-btn">✨ Gợi ý công việc</button>
                                </div>
                            </div>
                            <div class="notification-card">
                                <div class="notification-header">
                                    <i class="fas fa-vial icon"></i>
                                    <h4>LỊCH BẢO TRÌ KIỂM KÊ</h4>
                                    <span class="new-badge">NEW</span>
                                </div>
                                <div class="notification-footer">
                                    <button class="gemini-suggest-btn">✨ Gợi ý công việc</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="right-sidebar-container" class="collapsed">
            <div class="sidebar-content-wrapper"></div>
        </div>
    </div>

    <!-- CÁC THÀNH PHẦN PHỤ -->
    <button id="supportContactButton" class="floating-button"><i class="fas fa-headset icon"></i></button>
    <div id="supportContactPopup" class="popup-container">...</div>

    <div id="customConfirmModal" class="modal-overlay">...</div>
    <div id="adminLoginModal" class="modal-overlay">...</div>

    <!-- MODAL HIỂN THỊ KẾT QUẢ TỪ GEMINI -->
    <div id="geminiResultModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px; text-align: left;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h3 style="margin: 0; font-size: 1.2rem; color: var(--gemini-color);">✨ Gợi ý từ Gemini</h3>
                <button id="closeGeminiModal" style="background:none; border:none; font-size: 1.5rem; cursor:pointer;">&times;</button>
            </div>
            <div id="geminiResultContent" style="min-height: 100px; max-height: 40vh; overflow-y: auto; padding-right: 10px;">
                <p>Đang lấy gợi ý, vui lòng chờ...</p>
            </div>
             <div class="modal-buttons" style="margin-top: 20px; justify-content: flex-end;">
                <button id="copyGeminiResult" style="background-color: var(--success-color);">Sao chép</button>
            </div>
        </div>
    </div>

    <script>
    // =================================================================================
    // PHẦN JAVASCRIPT - ĐÃ TÁI CẤU TRÚC VÀ THÊM TÍNH NĂNG GEMINI
    // =================================================================================
    document.addEventListener('DOMContentLoaded', function() {
        
        // --- DỮ LIỆU MENU (GIỮ NGUYÊN) ---
        const leftMenuData = [
            {
                title: 'ADMIN',
                items: [ { id: 'btnADMIN', text: 'QUẢN TRỊ HỆ THỐNG', icon: 'fa-solid fa-sliders', isDropdown: true, isAdmin: true, 
                    subItems: [ { id: 'btnDatabase', text: 'DATABASE', pageUrl: '#', pageTitle: 'QUẢN LÝ DỮ LIỆU', icon: 'fa-solid fa-database' }, ]
                  } ]
            },
            {
                title: 'Công cụ AI',
                items: [ { id: 'btnGemini', text: 'Trợ lý Gemini', icon: 'fa-solid fa-wand-magic-sparkles', pageUrl: '#', pageTitle: 'TRỢ LÝ GEMINI', } ]
            },
            // ... các menu khác
        ];
        const rightMenuData = [ /* ... */ ];

        // --- DOM ELEMENTS ---
        const functionContent = document.getElementById('functionContent');
        const homePageContent = functionContent.innerHTML;
        const geminiModal = document.getElementById('geminiResultModal');
        const geminiResultContent = document.getElementById('geminiResultContent');
        const closeGeminiModalBtn = document.getElementById('closeGeminiModal');
        const copyGeminiResultBtn = document.getElementById('copyGeminiResult');
        
        // Các elements khác...
        const currentPageTitle = document.getElementById('current-page-title');
        
        // --- CÁC HÀM XỬ LÝ TÍNH NĂNG GEMINI ---

        /**
         * Gọi Gemini API để lấy gợi ý.
         * @param {string} taskTitle - Tiêu đề của công việc cần lấy gợi ý.
         */
        async function callGeminiAPI(taskTitle) {
            const apiKey = ""; // API key được cung cấp tự động
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            // Prompt tiếng Việt để yêu cầu Gemini chia nhỏ công việc
            const prompt = `Với vai trò là một quản lý dự án nhiều kinh nghiệm, hãy chia nhỏ công việc có tiêu đề "${taskTitle}" thành các công việc con cụ thể, khả thi và dễ quản lý. Trình bày kết quả dưới dạng danh sách có gạch đầu dòng.`;

            const payload = {
                contents: [{
                    parts: [{ text: prompt }]
                }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`Lỗi API: ${response.statusText}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    // Chuyển Markdown thành HTML (đơn giản)
                    const htmlResult = text
                        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold
                        .replace(/\* (.*?)(?=\n\* |$)/g, '<li>$1</li>'); // List items
                    geminiResultContent.innerHTML = `<ul>${htmlResult}</ul>`;
                } else {
                   throw new Error("Không nhận được phản hồi hợp lệ từ Gemini.");
                }

            } catch (error) {
                console.error("Lỗi khi gọi Gemini API:", error);
                geminiResultContent.innerHTML = `<p style="color: var(--danger-color);">Rất tiếc, đã có lỗi xảy ra. Vui lòng thử lại sau.</p>`;
            }
        }

        /**
         * Xử lý sự kiện khi nhấn nút "Gợi ý công việc".
         * @param {Event} event - Sự kiện click.
         */
        function handleGeminiSuggestClick(event) {
            const button = event.target;
            const card = button.closest('.notification-card');
            const titleElement = card.querySelector('h4');
            const taskTitle = titleElement.textContent.trim();

            // Hiển thị modal và trạng thái loading
            geminiResultContent.innerHTML = '<p>Đang lấy gợi ý, vui lòng chờ...</p>';
            geminiModal.style.display = 'flex';
            
            // Gọi API
            callGeminiAPI(taskTitle);
        }

        // Gán sự kiện cho các nút gợi ý
        function addGeminiEventListeners() {
            const suggestButtons = document.querySelectorAll('.gemini-suggest-btn');
            suggestButtons.forEach(button => {
                button.addEventListener('click', handleGeminiSuggestClick);
            });
        }
        
        // Đóng modal
        closeGeminiModalBtn.addEventListener('click', () => {
            geminiModal.style.display = 'none';
        });

        // Sao chép kết quả
        copyGeminiResultBtn.addEventListener('click', () => {
            const textToCopy = geminiResultContent.innerText;
            navigator.clipboard.writeText(textToCopy).then(() => {
                alert('Đã sao chép vào clipboard!');
            }).catch(err => {
                console.error('Không thể sao chép: ', err);
                alert('Lỗi khi sao chép.');
            });
        });
        
        // --- CÁC HÀM HIỂN THỊ VÀ LOGIC CŨ (Đã được rút gọn) ---
        function loadContent(pageTitle) {
            currentPageTitle.textContent = pageTitle;
            if (pageTitle === 'TRANG CHỦ - THÔNG BÁO') {
                functionContent.innerHTML = homePageContent;
                addGeminiEventListeners(); // Gán lại sự kiện sau khi tải lại nội dung
            } else {
                functionContent.innerHTML = `<h2 style="text-align:center; margin-top: 50px;">Nội dung trang ${pageTitle}</h2>`;
            }
        }
        
        // Gọi hàm render các menu và gán sự kiện ban đầu
        // renderLeftMenu(); 
        // renderRightMenu();
        addGeminiEventListeners();

        document.getElementById('btnGoHomeHeader').addEventListener('click', () => loadContent('TRANG CHỦ - THÔNG BÁO'));
        
        // Logic cho đồng hồ, sidebar, modals khác... (giữ nguyên)
        // ...
    });
    </script>
</body>
</html>
